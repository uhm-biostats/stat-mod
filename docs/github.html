<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.25">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>5&nbsp; Managing code with git and GitHub – Intro to Statistical Modeling</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./bring-it-together.html" rel="next">
<link href="./dynamic-doc.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-7b89279ff1a6dce999919e0e67d4d9ec.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-27c261d06b905028a18691de25d09dde.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar floating quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./intro.html">Introductory material</a></li><li class="breadcrumb-item"><a href="./github.html"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Managing code with git and GitHub</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header sidebar-header-stacked">
      <a href="./index.html" class="sidebar-logo-link">
      </a>
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Intro to Statistical Modeling</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Welina mai!</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introductory material</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./datasets-intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Data we will work with</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./care-fair.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">CARE and FAIR principles</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./r-refresh.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">R refresher</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dynamic-doc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Dynamic documents with <em>quarto</em></span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./github.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Managing code with git and GitHub</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./bring-it-together.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">CARE and FAIR in presenting data with dynamic documents on GitHub</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#what-is-git-and-github-and-how-do-they-help-us" id="toc-what-is-git-and-github-and-how-do-they-help-us" class="nav-link active" data-scroll-target="#what-is-git-and-github-and-how-do-they-help-us"><span class="header-section-number">5.1</span> What is git and GitHub and how do they help us?</a></li>
  <li><a href="#using-git-and-github-with-help-from-rstudio" id="toc-using-git-and-github-with-help-from-rstudio" class="nav-link" data-scroll-target="#using-git-and-github-with-help-from-rstudio"><span class="header-section-number">5.2</span> Using git and GitHub with help from RStudio</a>
  <ul class="collapse">
  <li><a href="#testing-our-connection" id="toc-testing-our-connection" class="nav-link" data-scroll-target="#testing-our-connection"><span class="header-section-number">5.2.1</span> Testing our connection</a></li>
  </ul></li>
  <li><a href="#learning-the-git-and-github-workflow" id="toc-learning-the-git-and-github-workflow" class="nav-link" data-scroll-target="#learning-the-git-and-github-workflow"><span class="header-section-number">5.3</span> Learning the git and GitHub workflow</a>
  <ul class="collapse">
  <li><a href="#clone" id="toc-clone" class="nav-link" data-scroll-target="#clone"><span class="header-section-number">5.3.1</span> Clone</a></li>
  <li><a href="#stage-and-commit" id="toc-stage-and-commit" class="nav-link" data-scroll-target="#stage-and-commit"><span class="header-section-number">5.3.2</span> Stage and commit</a></li>
  <li><a href="#push-and-pull" id="toc-push-and-pull" class="nav-link" data-scroll-target="#push-and-pull"><span class="header-section-number">5.3.3</span> Push and pull</a></li>
  <li><a href="#recovering-past-versions" id="toc-recovering-past-versions" class="nav-link" data-scroll-target="#recovering-past-versions"><span class="header-section-number">5.3.4</span> Recovering past versions</a></li>
  <li><a href="#issues-toward-working-collaboratively" id="toc-issues-toward-working-collaboratively" class="nav-link" data-scroll-target="#issues-toward-working-collaboratively"><span class="header-section-number">5.3.5</span> Issues: toward working collaboratively</a></li>
  <li><a href="#working-collaboratively-branches-and-pull-requests" id="toc-working-collaboratively-branches-and-pull-requests" class="nav-link" data-scroll-target="#working-collaboratively-branches-and-pull-requests"><span class="header-section-number">5.3.6</span> Working collaboratively: branches and pull requests</a></li>
  </ul></li>
  <li><a href="#using-github-for-class-assignments" id="toc-using-github-for-class-assignments" class="nav-link" data-scroll-target="#using-github-for-class-assignments"><span class="header-section-number">5.4</span> Using GitHub for class assignments</a>
  <ul class="collapse">
  <li><a href="#notes-assignments" id="toc-notes-assignments" class="nav-link" data-scroll-target="#notes-assignments"><span class="header-section-number">5.4.1</span> Notes assignments</a></li>
  <li><a href="#lab-reports" id="toc-lab-reports" class="nav-link" data-scroll-target="#lab-reports"><span class="header-section-number">5.4.2</span> Lab reports</a></li>
  </ul></li>
  <li><a href="#resources" id="toc-resources" class="nav-link" data-scroll-target="#resources"><span class="header-section-number">5.5</span> Resources</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./intro.html">Introductory material</a></li><li class="breadcrumb-item"><a href="./github.html"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Managing code with git and GitHub</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Managing code with git and GitHub</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="what-is-git-and-github-and-how-do-they-help-us" class="level2" data-number="5.1">
<h2 data-number="5.1" class="anchored" data-anchor-id="what-is-git-and-github-and-how-do-they-help-us"><span class="header-section-number">5.1</span> What is git and GitHub and how do they help us?</h2>
<p>Coding and analyzing data are complex tasks. We often need to try different approaches, step away from our code for a while, or share code with others to get their input and collaboration. We might often find ourselves in a situation like this: we make a script, say <code>analysis.R</code>, and then revise it based on feedback, but we don’t want to loose our old work, so we call the new version <code>analysis_v2.R</code>. Then we can’t figure out how to make a plot we want, so we email it to a friend, they edit it and send back a new file called <code>analysis_v2_ajr-edits.R</code>. We resolve those edits and add some other code and save the file with the date so we remember where we were: <code>analysis_2025-01-28.R</code>. But then we don’t get a chance to work on the analysis again for two months. By that time, we can’t remember if <code>analysis_v2.R</code> is the right version or <code>analysis_v2_ajr-edits.R</code> or <code>analysis_2025-01-28.R</code>. You can’t even remember exactly what the edits were and why you needed them.</p>
<p>Avoiding this situation is the job for git and GitHub. Git is a kind of version control software that runs locally on your computer and tracks changes to files. Those files live in a project folder (usually called a “repo” short for “repository”). GitHub is a web-based platform that hosts git repositories online, allowing you to back up your work, share it with others, and contribute to others’ projects too.</p>
<p>Together, git and GitHub help us in several ways. They provide a complete history of our work. Every change we make is recorded with a timestamp and a description we write about what is important in that change. If we make a mistake or want to try something experimental, we can easily revert back to an earlier version. GitHub and git facilitate collaboration. Multiple people can work on the same project simultaneously, and git helps merge their contributions together. Given the web-based hosting and backup, this is kind of like google docs for code (but a little less automated because we manually document and describe changes). GitHub makes it easy to share code, review changes, and give and receive feedback. The feedback bit is shockingly helpful via a tool called “issues” which we will discuss in the Workflow section. Hosting code on GitHub is also a real way to work toward open and reproducible science. Anyone can see exactly how we carried out our analysis.</p>
<p>As another important motivator: we will use git and GitHub for all class assignments moving forward.</p>
</section>
<section id="using-git-and-github-with-help-from-rstudio" class="level2" data-number="5.2">
<h2 data-number="5.2" class="anchored" data-anchor-id="using-git-and-github-with-help-from-rstudio"><span class="header-section-number">5.2</span> Using git and GitHub with help from RStudio</h2>
<p>To start working with git and GitHub we will need to make a free GitHub account and to install the actual git software on our computers. Here are external instructions for those tasks:</p>
<ol type="1">
<li><a href="https://docs.github.com/en/get-started/start-your-journey/creating-an-account-on-github" target="_blank">make a free GitHub account</a>; no need to follow the “Next steps” (although eventually you should set up 2FA)</li>
<li>downloaded and installed git (click on your operating system <a href="https://git-scm.com/install/" target="_blank">here</a> for instruction)</li>
</ol>
<p>Instead of step (2), if you think you have done this before, check if git is already on your machine by opening the terminal (from RStudio is fine) and run this command:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb1"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> <span class="at">--version</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>You will see a version number if git is available, you will see an error if it is not.</p>
<p>Now we can integrate git, GitHub, and RStudio. This is not necessary for using git and GitHub but it makes the experience easier, especially because we are already using RStudio.</p>
<p>We will use two R packages to help us connect RStudio and GitHub: <em>usethis</em> and <em>gitcreds</em>. Let’s install those packages by typing the following in the R console</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"usethis"</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"gitcreds"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>A common problem has been that <em>usethis</em> has a dependency on the package <em>crayon</em> which is currently not playing nice. If you have errors involving <em>crayon</em> try this:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"crayon"</span>, <span class="at">type =</span> <span class="st">"source"</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"usethis"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Now we can use functions from those packages to help us continue. First we use <em>usethis</em> to set up a personal access tokin that will serve as our login credential with GitHub. We do that by typing this into the R console:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(usethis)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">create_github_token</span>()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>That should open up a web browser page where you might be promoted to log into your GitHub account. Do that and then on the next page scroll to the bottom and click the “Generate token” button. You will then see on a new page a string of numbers and letters—that’s the token. Copy that token and paste it somewhere temporarily, like a blank text editor document or a blank R script, where you paste it doesn’t matter—you’ll soon delete it.</p>
<p>Now come back to RStudio and run the following in the R console:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gitcreds)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">gitcreds_set</span>()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>This will prompt you to enter a password or token; now you can paste the token you just generated here and hit enter. You should now be good to go!</p>
<p>It’s possible you’ve already gone through this process. If that’s the case you’ll see this:</p>
<pre><code>-&gt; Your current credentials for 'https://github.com':

  protocol: https
  host    : github.com
  username: PersonalAccessToken
  password: &lt;-- hidden --&gt;

-&gt; What would you like to do? 

1: Keep these credentials
2: Replace these credentials
3: See the password / token

Selection: </code></pre>
<p>Enter <code>1</code> for your selection. There might be be an error message but you can ignore it.</p>
<p>Now we should hopefully be all connected!</p>
<section id="testing-our-connection" class="level3" data-number="5.2.1">
<h3 data-number="5.2.1" class="anchored" data-anchor-id="testing-our-connection"><span class="header-section-number">5.2.1</span> Testing our connection</h3>
<p>Now we’ll double check that you’ve connected RStudio with GitHub by going to our GitHub profile and making a new repository. We’ll then copy (i.e.&nbsp;“clone”) this repo to our computers, modify it locally, and send those changes back to GitHub via git (all this sounds overly technical right now, we will gain a deeper understanding in the next section on learning the git workflow).</p>
<p>First let’s make a new repo. Go to your GitHub profile and click the plus sign in the top right, select “New repository”.</p>
<p><img src="img/github_how2/fig_add_repo.png" class="img-fluid" style="width:100.0%"></p>
<p>Give the repository a name, a description, make it public and select the option to add a README. Then hit “Create repository”</p>
<p><img src="img/github_how2/fig_add_repo2.png" class="img-fluid" style="width:100.0%"></p>
<p>Next hit the green “Code” button and copy the HTTPS URL to your clipboard.</p>
<p><img src="img/github_how2/fig_clone.png" class="img-fluid" style="width:100.0%"></p>
<p>Now head back to RStudio and selection File &gt; New Project. Then select “Version control” then “Git”. Finally, paste the HTTPS URL that you copied from GitHub. The “Project directory name” should auto-population. Choose a meaningful place on your computer to house this project, select the option to open in a new session and hit “Create Project”.</p>
<p><img src="img/github_how2/fig_git_project.png" class="img-fluid" style="width:75.0%"></p>
<p>You should now have a new project open! Navigate to the “Git” tab in RStudio and notice that two file names are listed with yellow question marks by them.</p>
<p><img src="img/github_how2/fig_git_tab.png" class="img-fluid" style="width:100.0%"></p>
<p>Those files were auto-generated by RStudio. The question marks indicate that they are new files which git is currently not tracking. Click the radio button next to each one under the “Staged” column. Checking those buttons stages the files. We can now hit “Commit” to add a commit message and commit the changes. If you have success it should look something like this (possibly with a warning about username or email, that’s ok!):</p>
<p><img src="img/github_how2/fig_commit.png" class="img-fluid" style="width:75.0%"></p>
<p>Once we’ve committed the changes we can send those changes to GitHub by hitting the “push” button Hopefully the result of hitting “push” looks something like this (possibly with a warning about username or email, again, that’s ok!):</p>
<p><img src="img/github_how2/fig_push.png" class="img-fluid" style="width:75.0%"></p>
<p>Go back to your web browser, refresh the GitHub repo page, and you should see the new files you just pushed!</p>
<p>While committing and pushing you might get warning messages about your username and email. If you see these warnings you need to let git and GitHub know who you are. You can do this through the Terminal. To open a terminal tab through RStudio go to Tools &gt; Terminal &gt; New Terminal. This will open a new terminal tab next to the R Console tab. The terminal is different than the R Console. You can think of the terminal as accessing the guts of your computer. Raw R commands will not work here. However, we <em>can</em> interact with git here and that’s what we need to do to identify ourselves. So in the terminal type</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb7"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> config <span class="at">--global</span> user.name <span class="st">"github_user_name"</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>replace <code>github_user_name</code> with your actual username; hit enter. Then type</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb8"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> config <span class="at">--global</span> user.email <span class="st">"my_email"</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>again replace <code>my_email</code> with the actual email address you used to register your GitHub account; hit enter.</p>
<p>Now your identity is known and you should be all set!</p>
</section>
</section>
<section id="learning-the-git-and-github-workflow" class="level2" data-number="5.3">
<h2 data-number="5.3" class="anchored" data-anchor-id="learning-the-git-and-github-workflow"><span class="header-section-number">5.3</span> Learning the git and GitHub workflow</h2>
<p>We have in fact already seen a big part of this workflow when we confirmed that RStudio is properly communicating with GitHub. Now we will work toward really understanding it.</p>
<section id="clone" class="level3" data-number="5.3.1">
<h3 data-number="5.3.1" class="anchored" data-anchor-id="clone"><span class="header-section-number">5.3.1</span> Clone</h3>
<p>Cloning means copying a remote repo, like one on GitHub, to your local computer. This is how you typically first start a local git repo. Cloning is a little more complex than just downloading all the files: cloning also maintains the relationship between your local copy and the remote repo as well as all the version history.</p>
</section>
<section id="stage-and-commit" class="level3" data-number="5.3.2">
<h3 data-number="5.3.2" class="anchored" data-anchor-id="stage-and-commit"><span class="header-section-number">5.3.2</span> Stage and commit</h3>
<p>Once you have your git repo locally, you will start changing files. “Staging” changes (hitting the radio button next to a file name in RStudio’s “Git” panel) let’s git know to pay attention to the changes you made. We can stage changes from one or multiple files at a time. Once staged, we can then write a commit message. This message briefly records what changes were made and (perhaps) why or how. These messages should be brief, think of them as notes to your future self (or collaborators). Recall from the intro to this chapter that git enables you to roll back to previous versions of your code (for example if you messed something up). The commit message is your way of knowing which version to roll back to. We will cover how to roll back or recover past versions soon.</p>
<p>These changes, and their commit messages, still only exist locally on your computer. The next steps are about interacting with the repo hosted on GitHub.</p>
</section>
<section id="push-and-pull" class="level3" data-number="5.3.3">
<h3 data-number="5.3.3" class="anchored" data-anchor-id="push-and-pull"><span class="header-section-number">5.3.3</span> Push and pull</h3>
<p>If we want our local changes to be reflected in the GitHub repo, we need to “push” them. You can push from RStudio by hitting the green up arrow in the “Git” panel. Pushing does just that, it pushes all your committed changes to the GitHub repo.</p>
<p>Conceptually, you should think of your local version of the repo as your temporary, personal copy of the official GitHub repo. Your computer could die, you could loose it, a cat could walk over the keys and mess it all up. Your local version is not permanent, but the GitHub version is. The fact that your local copy is ephemeral also means you should commit often, push often, and pull often.</p>
<p>Wait, what is pull? Pull is how you keep your local copy up-to-date with the official copy on GitHub. You can pull from RStudio by hitting the turquoise down arrow in the “Git” panel. But you might ask: how could the official copy change? Primarily through the commits and pushes of your collaborators. More on that in “Working collaboratively.”</p>
</section>
<section id="recovering-past-versions" class="level3" data-number="5.3.4">
<h3 data-number="5.3.4" class="anchored" data-anchor-id="recovering-past-versions"><span class="header-section-number">5.3.4</span> Recovering past versions</h3>
<p>To actually recover previous versions of your code, you have a few options. You can view the history of your repo (as it is preserved from within your local copy) right inside RStudio. On the “Git” panel, hit the watch icon.</p>
<p><img src="img/github_how2/watch-icon.png" class="img-fluid" style="width:50.0%"></p>
<p>A window will pop-up showing the history of all commits along with their messages.</p>
<p><img src="img/github_how2/history.png" class="img-fluid" style="width:75.0%"></p>
<p>You can click on any of those commits to see the past versions of your work. The easiest way to recover it is to copy the code of the past version and paste it into the script you’re currently working on. This gives you maximum control to selectively recover specific parts of your past work.</p>
<p>Another option is to use code in the terminal to roll back the entire repo to a past version. When you clicked a specific commit, you saw, amoung other information, a long SHA key. You can paste that SHA key into this code to roll back to that commit:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb9"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> revert <span class="op">&lt;</span>SHA-key<span class="op">&gt;</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Yet another option is to use the GitHub interface to view past versions. On the page for the GitHub repo you will see another watch-looking icon.</p>
<p><img src="img/github_how2/watch-github.png" class="img-fluid" style="width:75.0%"></p>
<p>Click that and again you can see a list of past commits which you can click through to see the associated versions of the files/scripts at the times of those commits. You can again copy-paste the code you might want from these past versions.</p>
</section>
<section id="issues-toward-working-collaboratively" class="level3" data-number="5.3.5">
<h3 data-number="5.3.5" class="anchored" data-anchor-id="issues-toward-working-collaboratively"><span class="header-section-number">5.3.5</span> Issues: toward working collaboratively</h3>
<p>In collaborative work (whether collaborating with other people or “your future self”) GitHub <em>issues</em> are a great tool for managing and organizing work. When you are working through a project by yourself or with others, you might find a need to jot down notes or to-do lists. Or you might find that code somebody else has written is not working the way it should. These are all great use cases for <em>Issues</em>. The idea of issues on GitHub originated with the need for users of open source software to report bugs—aka issues—to developers. But the utility of the issues feature goes far beyond bug reports.</p>
<p>To make a new issue select the <strong>Issues</strong> tab on any GitHub repo and then click the green “New issue” button. Many issues in the context of team coordination and task management can be expressed simply with a title, for example, “complete code for <em>xyz</em> task.” But you also have the ability to add detail in the “Add a description” field and, conveniently, you can format the description with markdown. So if your task “complete code for <em>xyz</em>” has multiple components and you want to list those out, perhaps even as a checklist, you could write in the description:</p>
<div class="gb">
<pre><code>- [ ] wrangle data so samples are rows
- [ ] clean up column names
- [ ] visualize x versus y</code></pre>
</div>
<p>Which will render as</p>
<ul class="task-list">
<li><label><input type="checkbox">wrangle data so samples are rows</label></li>
<li><label><input type="checkbox">clean up column names</label></li>
<li><label><input type="checkbox">visualize x versus y</label></li>
</ul>
<p>You can check your markdown by clicking the “Preview” tab of the description field. You can also use markdown (or simple plain text) to comment on issues and provide further detail, notes, or to-do’s through comments.</p>
<p>You can also assign issues to yourself or your team mates by clicking on the gear symbol next to “Assignees.” Assigning work is an excellent way to coordinate a project.</p>
<p>There are a lot of further refinements you can make with issues like labels and grouping them in projects and/or milestones. You can read more about that <a href="https://openscapes.github.io/series/core-lessons/github/github-issues.html">here</a>.</p>
</section>
<section id="working-collaboratively-branches-and-pull-requests" class="level3" data-number="5.3.6">
<h3 data-number="5.3.6" class="anchored" data-anchor-id="working-collaboratively-branches-and-pull-requests"><span class="header-section-number">5.3.6</span> Working collaboratively: branches and pull requests</h3>
<p>The most challenging part about working collaboratively—from a technical perspective—is harmonizing different versions of code and text that you and your team mates produce. This is the job of branches, forks, and pull requests. First let’s imagine a scenario:</p>
<p>You and a colleague are working on the same project which has one repo. You make some changes and to files locally, commit those changes and (try) to push them to GitHub. And your colleague (naturally) will do the same. But both of you will often end up with errors like this:</p>
<p><img src="img/github_how2/git-fail-behind.png" class="img-fluid" style="width:75.0%"></p>
<p>That means your work on your local computer is missing updated changes that are reflected on GitHub (your colleague must have pushed changes before you). No problem you might think! The error says to try pulling. But when you pull, you might see an even worse error like this:</p>
<p><img src="img/github_how2/merge-conflict.png" class="img-fluid" style="width:75.0%"></p>
<p>That type of merge conflict results from multiple people modifying the same part of the same file. For example, perhaps you modify some plotting code in a script called <code>data_viz.qmd</code> to look like this:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># use faceting to show different groups</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(dat, <span class="fu">aes</span>(treatment, value)) <span class="sc">+</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(group))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>and your colleague modifies the same code to look like this:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># use color to show different groups</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(dat, <span class="fu">aes</span>(treatment, value, <span class="at">fill =</span> group)) <span class="sc">+</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_boxplot</span>() </span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Git cannot figure out how to merge your two conflicting versions.</p>
<p>So how do we avoid that kind of conflict?</p>
<section id="branches" class="level4" data-number="5.3.6.1">
<h4 data-number="5.3.6.1" class="anchored" data-anchor-id="branches"><span class="header-section-number">5.3.6.1</span> Branches</h4>
<p>Branches are the main approach to avoiding these kinds of conflicts. You can make a branch of a repo on GitHub, pull that new branching structure onto your local computer, switch to that new branch, and then work without conflict in your own branch. Here’s an example of all that.</p>
<p>Make a branch by clicking on the drop down menu called “main” (main is the current branch), typing in a new branch name, and clicking “Create branch…”</p>
<p><img src="img/github_how2/new-branch.png" class="img-fluid" style="width:50.0%"></p>
<p>Then over in RStudio do a git pull. Once pulled, you can now switch to a different branch. Click the commit button which will open up the window where you can write commit message, but this time we aren’t committing anything, we are going to click on the “main” drop down and select the branch we want (“andy” in my case).</p>
<p><img src="img/github_how2/switch-branch.png" class="img-fluid"></p>
<p>The files you see in your local folder may well change after you switch branches. Don’t worry–nothing is actually lost, you just have kind of switched your view of files. And in this new branch you can work without worrying about conflicting versions between you and your colleagues. There is one caveat: your colleagues will likely also be able to see your branch, so you will have to be mindful to work only in your own branch(s).</p>
</section>
<section id="pull-requests" class="level4" data-number="5.3.6.2">
<h4 data-number="5.3.6.2" class="anchored" data-anchor-id="pull-requests"><span class="header-section-number">5.3.6.2</span> Pull requests</h4>
<p>But what if you want your work to be integrated by your colleagues or vice versa? Then you need to bring your work and theirs back into the main branch. That is the job of the pull request.</p>
<p>A pull request is your way of asking your colleagues if they would like to incorporate your changes. You can do this through the GitHub web interface. In your repo you might see a notification that differences exist between branches and a prompt to start a pull request.</p>
<p><img src="img/github_how2/start-pr-1.png" class="img-fluid"></p>
<p>Or you can navigate to a summary of all branches by clicking on the branches button and you will then see three dots next to each branch name allowing you to click and create a pull request</p>
<p><img src="img/github_how2/start-pr-2.png" class="img-fluid"></p>
<p>Once in the pull request interface, you will be able to title and describe your pull request. You should also assign one or more of your team members to <em>review</em> the pull request</p>
<p><img src="img/github_how2/pr1.png" class="img-fluid"></p>
<p>At the bottom of a pull request you—and your reviewers—can see how your work differed from the work in the main branch.</p>
<p><img src="img/github_how2/pr2.png" class="img-fluid"></p>
<p>You and your reviewers might decide you need to change your code before the pull request can be merged. You can return to RStudio, make those changes, commit them, and the pull request will update with those changes. No need to make a new pull request.</p>
<p>Branches and pull requests are also an excellent way to collaborate <em>with yourself</em>. You might have an idea you want to try out, but you don’t want to break anything in your code that is currently working. Technically you can just rely on your commit history to roll back experimental changes if they don’t work. But it is a cleaner approach to use a branch and then decide if you want to pull those experimental changes in or abandon them.</p>
</section>
</section>
</section>
<section id="using-github-for-class-assignments" class="level2" data-number="5.4">
<h2 data-number="5.4" class="anchored" data-anchor-id="using-github-for-class-assignments"><span class="header-section-number">5.4</span> Using GitHub for class assignments</h2>
<p>Starting now, we will use GitHub for assigning and turning in class assignments. The workflow will be similar but slightly different for the two kinds of assignments we’ll have: notes and lab reports.</p>
<section id="notes-assignments" class="level3" data-number="5.4.1">
<h3 data-number="5.4.1" class="anchored" data-anchor-id="notes-assignments"><span class="header-section-number">5.4.1</span> Notes assignments</h3>
<p>You will have your own notes assignments repo created for you in our shared GitHub organization: <a href="https://github.com/zool631-spr-2026">zool631-spr-2026</a>. Go through the steps of integrating that repo with RStudio.</p>
<p>Each notes assignment will be posted by the instructor (me Andy) as an issue to your notes repo. You will complete the assignment and mark the issue as resolved and including the commit that indicates you have completed the notes.</p>
<p>For peer review, your instructor will leave a new issue in your notes repo, assigned to you <em>and somebody else</em>. That somebody else will then leave you comments in the issue for you to resolve. Once you finish resolving those comments, you again mark the issue as resolved and include the commit that indicates revisions are complete.</p>
</section>
<section id="lab-reports" class="level3" data-number="5.4.2">
<h3 data-number="5.4.2" class="anchored" data-anchor-id="lab-reports"><span class="header-section-number">5.4.2</span> Lab reports</h3>
<p>For each lab, you will have a lab report repo created for you and a group of team members in our shared GitHub organization: <a href="https://github.com/zool631-spr-2026">zool631-spr-2026</a>.</p>
<p>You will each go through the steps of integrating that repo with RStudio and then you will each create a unique branch of the repo to hold your individual work.</p>
<p>Each of you will complete all or most steps of the lab report (all or most depending on assignment details and group agreements). Once complete, you will submit a pull request and assign all your group members as reviewers. You will pick one group member’s code to serve as the reference for all other work. You will then review code and decide how to merge your different versions. That review process will potentially identify changes that need to be made to the reference work. After incorporating those changes, one final version will be merged into the main branch.</p>
</section>
</section>
<section id="resources" class="level2" data-number="5.5">
<h2 data-number="5.5" class="anchored" data-anchor-id="resources"><span class="header-section-number">5.5</span> Resources</h2>
<p>One of the absolute best references on git, GitHub, and working with both through RStudio is Jenny Bryan’s online book <a href="https://happygitwithr.com">Happy git with R</a>.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./dynamic-doc.html" class="pagination-link" aria-label="Dynamic documents with *quarto*">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Dynamic documents with <em>quarto</em></span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./bring-it-together.html" class="pagination-link" aria-label="CARE and FAIR in presenting data with dynamic documents on GitHub">
        <span class="nav-page-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">CARE and FAIR in presenting data with dynamic documents on GitHub</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>